<div class="container">
    <h1>Profile</h1>

    <div ng-if="currentUser._id === model.uid">
        <h3>{{model.user.name}} <span class="badge badge-default">Balance: {{model.user.balance}}</span></h3>
        <form>
            <div class="form-group">
                <label for="userType">I'm a</label>
                <select ng-model="model.user.userType" class="form-control" name="userType" id="userType">
                    <option value="TAGGER">Tagger</option>
                    <option value="TIPPER">Tipper</option>
                    <option value="ADMIN">Admin</option>
                </select>
            </div>
            <div class="form-group">
                <label for="username">Username</label>
                <input ng-model="model.user.username" type="text" class="form-control" id="username" placeholder="Username">
            </div>
            <div class="form-group">
                <label for="name">Name</label>
                <input ng-model="model.user.name" type="text" class="form-control" id="name" placeholder="Name">
            </div>
        </form>
        <button ng-click="model.update(model.user)" class="btn btn-primary btn-block">Save</button>
    </div>

    <div ng-if="currentUser._id !== model.uid">
        <h3>{{model.user.name}} <span class="badge badge-default">{{model.user.userType}}</span>
            <button class="btn btn-outline-primary">Follow</button>
        </h3>
        <div class="list-group">
            <li ng-repeat="task in model.tasks" class="list-group-item list-group-item-action">
                <a href="#/task/{{task._id}}" style="margin-right: 15px">{{task.name}}</a>
                <span class="badge badge-warning">Reward: {{task.price}}</span>
                <span class="ml-auto">Posted by
                    <a ng-if="currentUser._id !== task.tipper._id" href="#/user/{{task.tipper._id}}">{{task.tipper.name}}</a>
                    <a ng-if="currentUser._id === task.tipper._id" href="#/user/{{task.tipper._id}}">Me</a>
                </span>
            </li>
        </div>
    </div>
</div>